<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Puissance 4</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="conteneur">
        <h1>Puissance 4</h1>
        
        <div class="statut">
            {{if .PartieTerminee}}
                {{if .Gagnant}}
                    <span class="victoire">Joueur {{.Gagnant}} a gagne !</span>
                {{else}}
                    <span class="nul">Match nul !</span>
                {{end}}
            {{else}}
                <span>Tour du Joueur {{.JoueurActuel}}</span>
            {{end}}
        </div>

        <div class="plateau">
            {{range $ligneIdx, $ligne := .Plateau}}
                <div class="ligne">
                    {{range $colIdx, $valeur := $ligne}}
                        <div class="cellule 
                            {{if eq $valeur 1}}joueur1
                            {{else if eq $valeur 2}}joueur2
                            {{end}}">
                        </div>
                    {{end}}
                </div>
            {{end}}
        </div>

        {{if not .PartieTerminee}}
        <div class="boutons-colonnes">
            {{range $i := Sequence 7}}
            <form method="POST" action="/deposer" class="formulaire-colonne">
                <input type="hidden" name="colonne" value="{{$i}}">
                <button type="submit" class="bouton-colonne">â†“</button>
            </form>
            {{end}}
        </div>
        {{end}}

        <form method="POST" action="/reinitialiser">
            <button type="submit" class="bouton-reinitialiser">Nouvelle Partie</button>
        </form>
    </div>
</body>
</html>